{% extends "layouts/layout.html.twig" %}

{% set title = 'Accueil' %}

{% set route = 'home' %}

{% block content %}
    <div class="mt-4">
        <div class="pb-1 mt-5 mb-5">

            <p>
            <h2 class="text-center" >Bienvenue ! </h2>
            <h5 class="text-center">Bienvenue sur le site de la base de données mycologique de la
                <a href="http://societelorrainedemycologie.wifeo.com">Société Lorraine de Mycologie (SLM)</a>. Vous pourrez trouver
                sur ce site des champignons recensés dans la base de données de la SLM. Si vous voulez découvrir ou rechercher des champignons,
                rendez-vous sur la rubrique
                <a href="{{ path_for('species') }}">Rechercher un champignon.</a>
            </h5>
            </p>
        </div>

        <h2 class="text-center">Les 5 derniers champignons ajoutés</h2>
        <hr />

        <div>
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    {% for i in 0..species_recent|length-1 %}
                        <li data-target="#carouselExampleIndicators" data-slide-to="{{ i }}" class="bg-secondary {% if i == 0 %}active{% endif %}"></li>
                    {% endfor %}
                </ol>
                <div class="carousel-inner">
                    {% for i in 0..species_recent|length-1 %}
                        <div class="carousel-item {% if i == 0 %}active{% endif %}">
                            <img class="d-block" src="http://via.placeholder.com/350x150" alt="{{ species_recent[i].name_latin }}">
                            <h4 class="mt-2">
                                <a href="{{ path_for('species.view', { 'specie_id': species_recent[i].id }) }}">{{ species_recent[i].name_latin }} - {{ species_recent[i].name_french }}</a>
                            </h4>
                            <p class="mb-5">Ajouté le {{ species_recent[i].created_at|date('d M Y') }}</p>
                        </div>
                    {% endfor %}
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="fa fa-angle-left font-weight-bold text-color-slm" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="fa fa-angle-right font-weight-bold text-color-slm" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
    </div>
    <div class="mt-5">
        <h2>Les ajouts du mois</h2>
        <hr />

        {% if species_month_recent|length > 0 %}
            <div class="row">
                {% for specie in species_month_recent %}
                    <h6 class="col-9 col-xl-4 col-lg-4 col-sm-9 col-md-4">
                        <a href="{{ path_for('species.view', { 'specie_id': specie.id }) }}">{{ specie.name_latin }} - {{ specie.name_french }}</a>
                        <p><small>Ajouté le {{ specie.created_at|date('d M Y') }}</small></p>
                    </h6>
                {% endfor %}
            </div>
        {% else %}
            <div class="alert alert-info" role="alert">
                Il n'y a aucun champignon ajouté ce mois-ci !
            </div>
        {% endif %}
    </div>
{% endblock %}